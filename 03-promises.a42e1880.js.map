{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,kBACnCE,UAAWH,SAASC,cAAc,iBAClCG,YAAaJ,SAASC,cAAc,mBACpCI,UAAWL,SAASC,cAAc,oBAoCpC,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFI,EAAQ,CAAEN,SAAAA,EAAUC,MAAAA,IAEpBM,EAAO,CAAEP,SAAAA,EAAUC,MAAAA,OAvCzBV,EAAKC,KAAKgB,iBAAiB,UAC3B,SAAuBC,GACrBA,EAAMC,iBAEN,IAAIC,EAAiB,EACrBC,YAAW,WACTD,GAAkB,EAElB,IAAIE,EAAQC,OAAOvB,EAAKI,WAAWoB,OACnChB,EAAcY,EAAgBE,GAC3BG,MAAK,SAAAC,OAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,aACjBZ,EAAA6B,OAAOC,QAAS,wBAA0CC,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,UAEjEoB,OAAM,SAAAJ,OAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,aAClBZ,EAAA6B,OAAOI,QAAS,sBAAsCF,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,UAEhE,IAAMsB,EAAaC,aAAY,WACzBb,IAAmBG,OAAOvB,EAAKM,YAAYkB,QAI/CJ,GAAkB,EAClBE,GAASC,OAAOvB,EAAKK,UAAUmB,OAC/BhB,EAAcY,EAAgBE,GAC3BG,MAAK,SAAAC,OAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,aACjBZ,EAAA6B,OAAOC,QAAS,wBAA0CC,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,UAEjEoB,OAAM,SAAAJ,OAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,aAClBZ,EAAA6B,OAAOI,QAAS,sBAAoCF,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,WAV5DwB,cAAcF,KAYfhC,EAAKK,UAAUmB,SACjBxB,EAAKI,WAAWoB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  delayInput: document.querySelector('[name=\"delay\"]'),\n  stepInput: document.querySelector('[name=\"step\"]'),\n  amountInput: document.querySelector('[name=\"amount\"]'),\n  submitBtn: document.querySelector('[type=\"submit\"]'),\n};\n\nrefs.form.addEventListener('submit', onSubmitClick);\nfunction onSubmitClick(event) {\n  event.preventDefault();\n\n  let promiseCounter = 0;\n  setTimeout(() => {\n    promiseCounter += 1;\n\n    let delay = Number(refs.delayInput.value);\n    createPromise(promiseCounter, delay)\n      .then(({ position, delay }) =>\n        Notify.success(`✔️ Fulfilled promise ${position} in ${delay}ms`)\n      )\n      .catch(({ position, delay }) =>\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      );\n    const intervalID = setInterval(() => {\n      if (promiseCounter === Number(refs.amountInput.value)) {\n        clearInterval(intervalID);\n        return;\n      }\n      promiseCounter += 1;\n      delay += Number(refs.stepInput.value);\n      createPromise(promiseCounter, delay)\n        .then(({ position, delay }) =>\n          Notify.success(`✔️ Fulfilled promise ${position} in ${delay}ms`)\n        )\n        .catch(({ position, delay }) =>\n          Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n        );\n    }, refs.stepInput.value);\n  }, refs.delayInput.value);\n}\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delayInput","stepInput","amountInput","submitBtn","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","event","preventDefault","promiseCounter","setTimeout","delay1","Number","value","then","param","Notify","success","concat","catch","failure","intervalID","setInterval","clearInterval"],"version":3,"file":"03-promises.a42e1880.js.map"}